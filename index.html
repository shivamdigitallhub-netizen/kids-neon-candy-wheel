<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Neon Candy Wheel ğŸ­</title>

<style>
body{
margin:0;
font-family:"Comic Sans MS",Arial;
background:radial-gradient(circle,#220033,#000);
display:flex;
justify-content:center;
align-items:center;
height:100vh;
overflow:hidden;
color:white;
}

/* FLOATING CANDY BACKGROUND */
.candy{
position:absolute;
font-size:30px;
animation:float 8s linear infinite;
opacity:.8;
}
@keyframes float{
0%{transform:translateY(110vh)}
100%{transform:translateY(-10vh)}
}

/* CARD */
.card{
background:#150028;
padding:40px;
border-radius:30px;
width:90vw;
max-width:520px;
text-align:center;
box-shadow:0 0 80px #ff4df0aa;
}

h1{
font-size:38px;
color:#ffb3ff;
margin-top:0;
}

input{
width:100%;
padding:16px;
border-radius:16px;
border:none;
background:#260040;
color:white;
font-size:20px;
text-align:center;
margin:12px 0;
}

button{
border:none;
padding:16px 30px;
border-radius:40px;
cursor:pointer;
font-size:20px;
font-weight:bold;
}

.spinBtn{
background:linear-gradient(45deg,#ff4df0,#ff6bd6);
color:white;
box-shadow:0 0 25px #ff4df0;
}

/* WHEEL AREA */
.wheelWrap{
position:relative;
margin-top:20px;
}

/* POINTER */
.pointer{
position:absolute;
top:-22px;
left:50%;
transform:translateX(-50%);
font-size:38px;
z-index:10;
transition:.3s;
}
.pointer.bounce{
transform:translateX(-50%) scale(1.3);
}

/* WHEEL */
#wheel{
width:340px;
height:340px;
border-radius:50%;
margin:auto;
background:conic-gradient(
#ff6bd6 0deg 60deg,
#ffb3ff 60deg 120deg,
#ff6bd6 120deg 180deg,
#ffb3ff 180deg 240deg,
#ff6bd6 240deg 300deg,
#ffb3ff 300deg 360deg
);
box-shadow:0 0 60px #ff4df0;
transition:transform 4s cubic-bezier(.2,.7,.3,1);
position:relative;
}

/* LABELS */
.label{
position:absolute;
width:100%;
height:100%;
top:0;
left:0;
pointer-events:none;
}

.label span{
position:absolute;
left:50%;
top:50%;
transform-origin:center -130px;
font-size:18px;
font-weight:bold;
text-shadow:0 0 10px #ff4df0;
transition:.4s;
}

.label span.active{
color:#fff;
text-shadow:0 0 20px #fff,0 0 30px #ff4df0;
transform-origin:center -130px scale(1.2);
}

#result{
margin-top:20px;
font-size:24px;
font-weight:bold;
color:#ffe0ff;
}
</style>
</head>

<body>

<script>
const candyEmoji=["ğŸ­","ğŸ¬","ğŸ©","ğŸ§","ğŸ«"];
for(let i=0;i<25;i++){
let c=document.createElement("div");
c.className="candy";
c.innerText=candyEmoji[Math.floor(Math.random()*5)];
c.style.left=Math.random()*100+"vw";
c.style.animationDuration=(5+Math.random()*5)+"s";
document.body.appendChild(c);
}
</script>

<div class="card">

<h1>Neon Candy Wheel ğŸ­</h1>

<input id="kidName" placeholder="Enter Kid Name">

<button id="spinBtn" class="spinBtn" onclick="spinCandy()">Spin Candy!</button>

<div class="wheelWrap">

<div id="pointer" class="pointer">ğŸ”»</div>

<div id="wheel">
<div class="label">
<span style="transform:rotate(0deg)">ğŸ¬ Dance</span>
<span style="transform:rotate(60deg)">ğŸ­ Jump</span>
<span style="transform:rotate(120deg)">ğŸ§ Sing</span>
<span style="transform:rotate(180deg)">ğŸ© Funny</span>
<span style="transform:rotate(240deg)">ğŸ« Clap</span>
<span style="transform:rotate(300deg)">ğŸˆ Spin</span>
</div>
</div>

</div>

<div id="result"></div>

<button onclick="location.reload()">Restart</button>

</div>

<script>

/* SOUND */
const audioCtx=new(window.AudioContext||window.webkitAudioContext)();
function playCandySound(){
const osc=audioCtx.createOscillator();
const gain=audioCtx.createGain();
osc.type="triangle";
osc.frequency.setValueAtTime(440,audioCtx.currentTime);
osc.frequency.exponentialRampToValueAtTime(880,audioCtx.currentTime+0.3);
gain.gain.setValueAtTime(0.2,audioCtx.currentTime);
gain.gain.exponentialRampToValueAtTime(0.001,audioCtx.currentTime+0.4);
osc.connect(gain);
gain.connect(audioCtx.destination);
osc.start();
osc.stop(audioCtx.currentTime+0.4);
}

/* LOGIC */
let spinCount=0;
let currentRotation=0;
const sliceAngle=60;
const pointerOffset=30;

const outcomes=[
"ğŸ¬ Dance Time! ğŸ’ƒ",
"ğŸ­ Jump Like a Bunny! ğŸ°",
"ğŸ§ Sing a Happy Song! ğŸ¶",
"ğŸ© Make a Funny Face ğŸ˜†",
"ğŸ« Clap Hands 5 Times ğŸ‘",
"ğŸˆ Spin Around Fast! ğŸŒˆ"
];

function nameEnergy(name){
name=name.toLowerCase().replace(/[^a-z]/g,'');
let total=0;
for(let c of name){ total+=c.charCodeAt(0)-96;}
return total;
}

function spinCandy(){

let name=document.getElementById("kidName").value;
if(!name){alert("Enter a name!");return;}

spinCount++;
playCandySound();

let energy=nameEnergy(name);

/* â­ VARIATION LOGIC */
let index=(energy+spinCount)%6;

/* â­ SUPER PERFECT ALIGNMENT FIX */
currentRotation+=(360*5)+(360-(index*sliceAngle)-pointerOffset);
wheel.style.transform="rotate("+currentRotation+"deg)";

/* REMOVE OLD GLOW */
document.querySelectorAll(".label span").forEach(el=>el.classList.remove("active"));

setTimeout(()=>{

/* POINTER BOUNCE */
pointer.classList.add("bounce");
setTimeout(()=>pointer.classList.remove("bounce"),400);

/* SLICE GLOW */
document.querySelectorAll(".label span")[index].classList.add("active");

result.innerHTML=
name+" got:<br>"+outcomes[index];

},4000);

}

</script>

</body>
</html>
