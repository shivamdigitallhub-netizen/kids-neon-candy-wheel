<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Neon Candy Wheel ğŸ­</title>

<style>
body{
margin:0;
font-family:"Comic Sans MS",Arial;
background:radial-gradient(circle,#200040,#000);
display:flex;
justify-content:center;
align-items:center;
height:100vh;
overflow:hidden;
color:white;
}

/* FLOATING CANDY */
.candy{
position:absolute;
font-size:32px;
animation:float 8s linear infinite;
opacity:.8;
}
@keyframes float{
0%{transform:translateY(110vh)}
100%{transform:translateY(-10vh)}
}

/* CARD */
.card{
background:#140028;
padding:40px;
border-radius:30px;
width:90vw;
max-width:520px;
text-align:center;
box-shadow:0 0 80px #ff4df0aa;
}

h1{
margin-top:0;
font-size:36px;
color:#ffb3ff;
}

/* INPUT */
input{
width:100%;
padding:16px;
margin:12px 0;
border-radius:16px;
border:none;
background:#260040;
color:white;
font-size:20px;
text-align:center;
}

/* BUTTONS */
button{
border:none;
padding:16px 30px;
border-radius:40px;
margin:10px;
cursor:pointer;
font-weight:bold;
font-size:20px;
}

.spinBtn{
background:linear-gradient(45deg,#ff4df0,#ff6bd6);
color:white;
box-shadow:0 0 25px #ff4df0;
}

.secondary{
background:#222;
color:white;
}

/* WHEEL */
.wheelWrap{
position:relative;
margin-top:20px;
}

.pointer{
position:absolute;
top:-18px;
left:50%;
transform:translateX(-50%);
font-size:36px;
z-index:5;
}

#wheel{
width:320px;
height:320px;
border-radius:50%;
margin:auto;
background:
conic-gradient(
#ff6bd6 0deg 60deg,
#ffb3ff 60deg 120deg,
#ff6bd6 120deg 180deg,
#ffb3ff 180deg 240deg,
#ff6bd6 240deg 300deg,
#ffb3ff 300deg 360deg);
box-shadow:0 0 60px #ff4df0;
transition:transform 4s cubic-bezier(.2,.7,.3,1);
}

.label{
position:absolute;
width:100%;
height:100%;
top:0;
left:0;
display:flex;
justify-content:center;
align-items:center;
pointer-events:none;
}

.label span{
position:absolute;
font-size:18px;
font-weight:bold;
text-shadow:0 0 8px #ff4df0;
}

#result{
margin-top:20px;
font-size:24px;
font-weight:bold;
color:#ffe0ff;
line-height:1.4;
}
</style>
</head>

<body>

<script>
/* FLOATING CANDIES */
const candyEmoji=["ğŸ­","ğŸ¬","ğŸ©","ğŸ§","ğŸ«"];
for(let i=0;i<30;i++){
let c=document.createElement("div");
c.className="candy";
c.innerText=candyEmoji[Math.floor(Math.random()*candyEmoji.length)];
c.style.left=Math.random()*100+"vw";
c.style.animationDuration=(5+Math.random()*4)+"s";
document.body.appendChild(c);
}
</script>

<div class="card">

<h1>Neon Candy Wheel ğŸ­</h1>

<input id="kidName" placeholder="Enter Kid Name">

<button id="spinBtn" class="spinBtn" onclick="spinCandy()">Spin Candy!</button>

<div class="wheelWrap">
<div class="pointer">ğŸ”»</div>

<div id="wheel">
<div class="label">
<span style="transform:rotate(30deg) translate(100px)">ğŸ¬ Dance</span>
<span style="transform:rotate(90deg) translate(100px)">ğŸ­ Jump</span>
<span style="transform:rotate(150deg) translate(100px)">ğŸ§ Sing</span>
<span style="transform:rotate(210deg) translate(100px)">ğŸ© Funny</span>
<span style="transform:rotate(270deg) translate(100px)">ğŸ« Clap</span>
<span style="transform:rotate(330deg) translate(100px)">ğŸˆ Spin</span>
</div>
</div>
</div>

<div id="result"></div>

<button class="secondary" onclick="location.reload()">Restart</button>

</div>

<script>

/* BUILT-IN SOUND */
const audioCtx=new(window.AudioContext||window.webkitAudioContext)();
function playCandySound(){
const osc=audioCtx.createOscillator();
const gain=audioCtx.createGain();
osc.type="triangle";
osc.frequency.setValueAtTime(440,audioCtx.currentTime);
osc.frequency.exponentialRampToValueAtTime(880,audioCtx.currentTime+0.3);
gain.gain.setValueAtTime(0.2,audioCtx.currentTime);
gain.gain.exponentialRampToValueAtTime(0.001,audioCtx.currentTime+0.4);
osc.connect(gain);
gain.connect(audioCtx.destination);
osc.start();
osc.stop(audioCtx.currentTime+0.4);
}

/* SPIN SYSTEM */
let spinCount=0;
const MAX_SPINS=10;
let currentRotation=0;

const outcomes=[
"ğŸ¬ Dance Time! ğŸ’ƒ",
"ğŸ­ Jump Like a Bunny! ğŸ°",
"ğŸ§ Sing a Happy Song! ğŸ¶",
"ğŸ© Make a Funny Face ğŸ˜†",
"ğŸ« Clap Hands 5 Times ğŸ‘",
"ğŸˆ Spin Around Fast! ğŸŒˆ"
];

function nameEnergy(name){
name=name.toLowerCase().replace(/[^a-z]/g,'');
let total=0;
for(let c of name){
total+=c.charCodeAt(0)-96;
}
return total;
}

function spinCandy(){

if(spinCount>=MAX_SPINS){
result.innerHTML="â­ 10 spins finished! Press Restart for next kid.";
spinBtn.disabled=true;
return;
}

let name=document.getElementById("kidName").value;
if(!name){alert("Enter a name!");return;}

spinCount++;
playCandySound();

let energy=nameEnergy(name);

/* â­ FIXED VARIATION LOGIC */
let index=(energy+spinCount)%6;

currentRotation+=(360*5)+(index*60);
wheel.style.transform="rotate("+currentRotation+"deg)";

setTimeout(()=>{
result.innerHTML=
name+" got:<br>"+outcomes[index]+"<br>ğŸ¯ Spins left: "+(MAX_SPINS-spinCount);
},3500);
}

</script>
</body>
</html>
